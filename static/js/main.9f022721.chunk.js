(this["webpackJsonpway-of-samurai-ts"]=this["webpackJsonpway-of-samurai-ts"]||[]).push([[1],{144:function(e,t,n){e.exports=n(233)},149:function(e,t,n){},150:function(e,t,n){},233:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(47),c=n.n(s);n(149),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(19),o=n(20),i=n(22),l=n(21),f=(n(150),n(38)),d=n.n(f),p=n(32),g=n(24),m=n(39),E=n.n(m),h=function(e){return a.a.createElement("div",{className:E.a.friend},a.a.createElement("img",{src:e.friend.img,alt:"ava"}),a.a.createElement("div",null,e.friend.name))},S=function(e){var t=e.friends.map((function(e){return a.a.createElement(h,{key:e.name,friend:e})}));return a.a.createElement("div",{className:E.a.container},a.a.createElement("div",{className:E.a.header},"Friends"),a.a.createElement("div",{className:E.a.friends},t))},b=Object(g.b)((function(e){return{friends:e.sidebar.friends}}),(function(){return{}}))(S),O=[{name:"Profile",to:"profile",isNeedCount:!1},{name:"Messages",to:"dialogs",isNeedCount:!0},{name:"Users",to:"users",isNeedCount:!1},{name:"News",to:"news",isNeedCount:!1},{name:"Musik",to:"musik",isNeedCount:!1},{name:"Settings",to:"settings",isNeedCount:!1},{name:"Tests",to:"test",isNeedCount:!1}],v=function(e){return a.a.createElement("nav",{className:d.a.nav},O.map((function(t,n){return a.a.createElement(p.b,{key:n,to:"/".concat(t.to),activeClassName:d.a.activeLink},a.a.createElement("div",{className:d.a.item},t.name,t.isNeedCount&&e.newMessagesCount>0&&a.a.createElement("div",{className:d.a.newMessagesCount},e.newMessagesCount)))})),a.a.createElement(b,null))},_=n(8),w=n(2),j=n(27),y={initialized:!1,globalError:""},C={initializedSuccess:function(){return{type:"INITIALIZED_SUCCESS"}},setGlobalError:function(e){return{type:"SET_GLOBAL_ERROR",errorMessage:e}}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(w.a)(Object(w.a)({},e),{},{initialized:!0});case"SET_GLOBAL_ERROR":return Object(w.a)(Object(w.a)({},e),{},{globalError:t.errorMessage});default:return e}},T=n(51),U=n(14),I=n(70),k=n(48),x={friends:[{id:1,name:"Jey",img:"https://yt3.ggpht.com/a/AGF-l78XZgyutXUlON-U4sTy-EwaZoBJXrqGvQ2kxg=s900-c-k-c0xffffffff-no-rj-mo"},{id:2,name:"Kristin",img:"https://yt3.ggpht.com/a/AGF-l78XZgyutXUlON-U4sTy-EwaZoBJXrqGvQ2kxg=s900-c-k-c0xffffffff-no-rj-mo"},{id:3,name:"Mike",img:"https://yt3.ggpht.com/a/AGF-l78XZgyutXUlON-U4sTy-EwaZoBJXrqGvQ2kxg=s900-c-k-c0xffffffff-no-rj-mo"}]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;return t.type,e},D=n(85),P=n(90),M=n(86),R=Object(U.c)({profilePage:I.a,dialogsPage:k.b,sidebar:A,usersPage:D.a,auth:j.a,form:M.a,app:N}),G=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||U.d,L=Object(U.e)(R,G(Object(U.a)(P.a)));window.store=L;var F=L,B=n(61),X=n.n(B),z=n(49),W=n(92),Z=n.n(W),H=function(e){return a.a.createElement("header",{className:X.a.header},a.a.createElement("img",{src:Z.a,alt:""}),a.a.createElement("div",{className:X.a.loginBlock},e.isAuth?a.a.createElement("div",null,e.login," ",a.a.createElement(z.b,{name:"Logout",callback:e.logout})):a.a.createElement(z.b,{callback:function(){e.history.push("/login")},name:"Sign In"})))},J=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getAuthUserData()}},{key:"render",value:function(){return a.a.createElement(H,this.props)}}]),n}(a.a.Component),q=Object(U.d)(_.g,Object(g.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{getAuthUserData:j.b,logout:j.d}))(J),Q=n(93),V=n.n(Q),Y=n(62),K=n.n(Y),$=function(){return a.a.createElement("div",{className:K.a.container},a.a.createElement("img",{className:K.a.img,src:V.a,alt:"404 not found"}))},ee=n(94),te=n.n(ee),ne=n(95),re=n.n(ne),ae=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(o.a)(n,[{key:"render",value:function(){return this.state.hasError?a.a.createElement("div",{className:re.a.container},a.a.createElement("img",{src:te.a,alt:""}),a.a.createElement("h1",null,"Sorry, some error")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(a.a.Component),se=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={test:!1},r}return Object(o.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,"TEST")}}]),n}(a.a.Component);function ce(e){return function(t){return a.a.createElement(a.a.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(e,t))}}var ue=a.a.lazy((function(){return n.e(10).then(n.bind(null,324))})),oe=a.a.lazy((function(){return n.e(8).then(n.bind(null,325))})),ie=a.a.lazy((function(){return n.e(9).then(n.bind(null,326))})),le=a.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,329))})),fe=a.a.lazy((function(){return n.e(6).then(n.bind(null,330))})),de=a.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,328))})),pe=a.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,327))})),ge=ce(le),me=ce(de),Ee=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).catchAllUnhandledErrors=function(t){t.reason&&e.props.showGlobalError(t.reason.toJSON().message)},e.intervalId=null,e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),this.props.getNewMessages(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentDidUpdate",value:function(){var e=this;this.props.isAuth&&null===this.intervalId&&(this.intervalId=setInterval((function(){e.props.getNewMessages()}),4e3)),this.props.isAuth||clearInterval(this.intervalId)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors),clearInterval(this.intervalId)}},{key:"render",value:function(){var e=this;return this.props.initialized?a.a.createElement(ae,null,a.a.createElement("div",{className:"app-wrapper"},a.a.createElement(q,null),a.a.createElement(v,{newMessagesCount:this.props.newMessagesCount}),a.a.createElement("div",{className:"app-wrapper-content"},this.props.globalError&&a.a.createElement("div",{className:"globalError"},a.a.createElement("h1",null,this.props.globalError)),a.a.createElement(_.d,null,a.a.createElement(_.b,{exact:!0,path:"/",render:function(){return a.a.createElement(_.a,{to:"/profile"})}}),a.a.createElement(a.a.Suspense,{fallback:a.a.createElement(T.a,null)},a.a.createElement(_.b,{path:"/dialogs/:userId?",render:function(t){return a.a.createElement(ge,{newMessagessCount:e.props.newMessagesCount,userId:t.match.params.userId})}}),a.a.createElement(_.b,{path:"/profile/:userId?",render:function(){return a.a.createElement(me,null)}}),a.a.createElement(_.b,{path:"/users",render:function(){return a.a.createElement(fe,{pageTitle:"Samurai"})}}),a.a.createElement(_.b,{path:"/news",render:function(){return a.a.createElement(ie,null)}}),a.a.createElement(_.b,{path:"/musik",render:function(){return a.a.createElement(oe,null)}}),a.a.createElement(_.b,{path:"/settings",render:function(){return a.a.createElement(ue,null)}}),a.a.createElement(_.b,{path:"/login",render:function(){return a.a.createElement(pe,null)}}),a.a.createElement(_.b,{path:"/test",render:function(){return a.a.createElement(se,null)}})),a.a.createElement(_.b,{path:"*",render:function(){return a.a.createElement($,null)}}))))):a.a.createElement("div",{className:"preloader"},a.a.createElement(T.a,null))}}]),n}(a.a.Component),he=Object(U.d)(_.g,Object(g.b)((function(e){return{initialized:e.app.initialized,globalError:e.app.globalError,isAuth:e.auth.isAuth,newMessagesCount:e.dialogsPage.newMessagesCount}}),{initializeApp:C.initializedSuccess,showGlobalError:function(e){return function(t){t(C.setGlobalError(e)),setTimeout((function(){t(C.setGlobalError(""))}),5e3)}},getNewMessages:k.f}))(Ee),Se=function(){return a.a.createElement(p.a,null,a.a.createElement(g.a,{store:F},a.a.createElement(he,null)))};c.a.render(a.a.createElement(Se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},27:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return E}));var r=n(3),a=n.n(r),s=n(7),c=n(2),u=n(4),o=n(29),i=function(){return u.c.get("auth/me").then((function(e){return e.data}))},l=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return u.c.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},f=function(){return u.c.delete("auth/login").then((function(e){return e.data}))},d=function(){return u.c.delete("security/get-captcha-url").then((function(e){return e.data}))},p={userId:null,login:null,email:null,isAuth:!1,captchaUrl:null},g=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,s,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:0===(n=e.sent).resultCode&&(r=n.data,s=r.id,c=r.login,u=r.email,t(S.setUserData(s,c,u,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(e,t,n,r){return function(){var c=Object(s.a)(a.a.mark((function s(c){var i,f;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l(e,t,n,r);case 2:(i=a.sent).resultCode===u.b.Success?c(g()):(i.resultCode===u.a.CaptchaIsRequired&&c(h()),f=i.messages.length>0?i.messages[0]:"Some error",c(Object(o.a)("login",{_error:f})));case 4:case"end":return a.stop()}}),s)})));return function(e){return c.apply(this,arguments)}}()},E=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:e.sent.resultCode===u.b.Success&&t(S.setUserData(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:n=e.sent,r=n.url,t(S.getCaptchaUrlSucces(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S={setUserData:function(e,t,n,r){return{type:"SET_USER_DATA",payload:{userId:e,login:t,email:n,isAuth:r}}},getCaptchaUrlSucces:function(e){return{type:"GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":case"GET_CAPTCHA_URL_SUCCESS":return Object(c.a)(Object(c.a)({},e),t.payload);default:return e}}},28:function(e,t,n){e.exports={button:"Buttons_button__86hft",smallButton:"Buttons_smallButton__2nO7n",container:"Buttons_container__3eZT8",disabled:"Buttons_disabled__3k8El",pagesButton:"Buttons_pagesButton__36zMX",notVisible:"Buttons_notVisible__3XW5d",addFileButton:"Buttons_addFileButton__1s1YJ"}},38:function(e,t,n){e.exports={nav:"Navbar_nav__1zXXq",item:"Navbar_item__1djY0",activeLink:"Navbar_activeLink__2fLZL",newMessagesCount:"Navbar_newMessagesCount__3uYPw"}},39:function(e,t,n){e.exports={friend:"Friends_friend__atghj",friends:"Friends_friends__28-tI",header:"Friends_header__3wS9w",container:"Friends_container__1Uf5Y"}},4:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r,a,s=n(88),c=n.n(s).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"0a4552fd-fc88-4874-a12b-39f74cc52685"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(a||(a={}))},48:function(e,t,n){"use strict";n.d(t,"i",(function(){return O})),n.d(t,"g",(function(){return w})),n.d(t,"j",(function(){return j})),n.d(t,"f",(function(){return y})),n.d(t,"c",(function(){return C})),n.d(t,"e",(function(){return N})),n.d(t,"h",(function(){return T})),n.d(t,"a",(function(){return U})),n.d(t,"d",(function(){return I}));var r=n(3),a=n.n(r),s=n(7),c=n(16),u=n(2),o=n(4),i=function(){return o.c.get("dialogs").then((function(e){return e.data}))},l=function(e){return o.c.put("dialogs/".concat(e)).then((function(e){return e.data}))},f=function(e){return o.c.get("dialogs/".concat(e,"/messages")).then((function(e){return{messages:e.data.items,totalCount:e.data.totalCount}}))},d=function(e,t){return o.c.post("dialogs/".concat(e,"/messages"),{body:t}).then((function(e){return e.data}))},p=function(){return o.c.get("dialogs/messages/new/count").then((function(e){return e.data}))},g=function(e,t){return o.c.get("dialogs/".concat(e,"/messages/new?newerThen=").concat(t)).then((function(e){return e.data}))},m=function(e){return o.c.delete("dialogs/messages/".concat(e)).then((function(e){return e.data}))},E=function(e){return o.c.put("dialogs/messages/".concat(e,"/restore")).then((function(e){return e.data}))},h=function(e){return o.c.post("dialogs/messages/".concat(e,"/spam")).then((function(e){return e.data}))},S={dialogs:[],messages:[],selectedDialogId:null,newMessagesCount:0,needRefresh:!1,currentDialogMessagesCount:0,deletedMessages:[]},b=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:n=e.sent,t(I.getDialogsSuccess(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d(e,t);case 2:r(I.setNeedRefresh(!0)),r(I.putUpDialog(e));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n,r){var s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e);case 2:s=r().dialogsPage.dialogs.find((function(t){return t.id==e})),n(s?I.putUpDialog(e):b());case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var n=Object(s.a)(a.a.mark((function n(r,s){var c,u,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=s(),!((u=c.dialogsPage.messages).length>0&&u[u.length-1].viewed)||t){n.next=6;break}r(N(e,u[u.length-1].addedAt)),n.next=12;break;case 6:return n.next=8,f(e);case 8:(o=n.sent).messages.some((function(e){return!e.viewed}))&&r(I.setNeedRefresh(!0)),r(I.getMessagesSuccess(o.messages,o.totalCount)),r(I.setHasNewMessages(e,!1));case 12:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=8;break}return n(_(e)),n(I.setCurrentDialog(e)),t.next=5,n(v(e));case 5:n(b()),t.next=9;break;case 8:n(b());case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(t){e?(t(I.setNeedRefresh(!0)),t(_(e,!0)),t(I.setCurrentDialog(e))):t(I.setCurrentDialog(null))}},y=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t,n){var r,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:r=e.sent,((s=n()).dialogsPage.newMessagesCount!==r||s.dialogsPage.needRefresh)&&(t(I.setNewMessagesCount(r)),t(b()),t(I.setNeedRefresh(!1)),null!==s.dialogsPage.selectedDialogId&&t(_(Number(s.dialogsPage.selectedDialogId))));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n,r){var s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:t.sent.resultCode===o.b.Success&&(s=setTimeout((function(){n(I.deleteMessageForOwnerSuccess(e))}),5e3),n(I.addDeletedMessages(e,s)));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},N=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r,s){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g(e,t);case 2:c=n.sent,r(I.appendMessages(c));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n,r){var s,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:t.sent.resultCode===o.b.Success&&(s=r().dialogsPage.deletedMessages,(c=s.find((function(t){return t.id===e})))&&clearInterval(c.restoredInterval),n(I.restoreMessageSuccess(e)));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},U=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:t.sent.resultCode===o.b.Success&&n(I.addToSpamSuccess(e));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},I=(t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DIALOGS_SUCCESS":case"SET_CURRENT_DIALOG":case"GET_MESSAGES_SUCCESS":case"SET_NEW_MESSAGES_COUNT":case"SET_NEED_REFRESH":return Object(u.a)(Object(u.a)({},e),t.payload);case"PUT_UP_DIALOG":var n=e.dialogs.find((function(e){return e.id==t.userId}));return n?Object(u.a)(Object(u.a)({},e),{},{dialogs:[n].concat(Object(c.a)(e.dialogs.filter((function(e){return e.id!=t.userId}))))}):e;case"DELETE_MESSAGE_FOR_OWNER":return Object(u.a)(Object(u.a)({},e),{},{messages:e.messages.filter((function(e){return e.id!==t.messageId}))});case"SET_HAS_NEW_MESSAGES":return Object(u.a)(Object(u.a)({},e),{},{dialogs:e.dialogs.map((function(e){return e.id==t.userId?Object(u.a)(Object(u.a)({},e),{},{hasNewMessages:t.hasNewMessages}):e}))});case"APPEND_MESSAGES":return Object(u.a)(Object(u.a)({},e),{},{messages:[].concat(Object(c.a)(e.messages),Object(c.a)(t.messages))});case"ADD_DELETED_MESSAGES":return Object(u.a)(Object(u.a)({},e),{},{deletedMessages:[].concat(Object(c.a)(e.deletedMessages),[t.message])});case"RESTORE_MESSAGE":return Object(u.a)(Object(u.a)({},e),{},{deletedMessages:e.deletedMessages.filter((function(e){return e.id!==t.messageId}))});case"ADD_TO_SPAM_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{messages:e.messages.filter((function(e){return e.id!==t.messageId}))});default:return e}},{setCurrentDialog:function(e){return{type:"SET_CURRENT_DIALOG",payload:{selectedDialogId:e}}},getMessagesSuccess:function(e,t){return{type:"GET_MESSAGES_SUCCESS",payload:{messages:e,currentDialogMessagesCount:t}}},putUpDialog:function(e){return{type:"PUT_UP_DIALOG",userId:e}},setHasNewMessages:function(e,t){return{type:"SET_HAS_NEW_MESSAGES",userId:e,hasNewMessages:t}},appendMessages:function(e){return{type:"APPEND_MESSAGES",messages:e}},addDeletedMessages:function(e,t){return{type:"ADD_DELETED_MESSAGES",message:{id:e,restoredInterval:t}}},restoreMessageSuccess:function(e){return{type:"RESTORE_MESSAGE",messageId:e}},deleteMessageForOwnerSuccess:function(e){return{type:"DELETE_MESSAGE_FOR_OWNER",messageId:e}},addToSpamSuccess:function(e){return{type:"ADD_TO_SPAM_SUCCESS",messageId:e}},getDialogsSuccess:function(e){return{type:"GET_DIALOGS_SUCCESS",payload:{dialogs:e}}},setNewMessagesCount:function(e){return{type:"SET_NEW_MESSAGES_COUNT",payload:{newMessagesCount:e}}},setNeedRefresh:function(e){return{type:"SET_NEED_REFRESH",payload:{needRefresh:e}}}})},49:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n(26),a=n(0),s=n.n(a),c=n(28),u=n.n(c),o=n(53),i=n.n(o),l=function(e){return s.a.createElement("button",{onClick:e.callback,className:u.a.button},e.name)},f=function(e){return s.a.createElement("button",{onClick:e.callback,disabled:e.disabled,className:i()(u.a.smallButton,Object(r.a)({},u.a.disabled,e.disabled),e.className)},e.name)},d=function(e){return s.a.createElement("button",{onClick:e.callback,className:i()(u.a.pagesButton,Object(r.a)({},u.a.notVisible,!e.isVisible))},e.name)},p=function(e){return s.a.createElement("div",{className:u.a.addFileButton},s.a.createElement("label",{htmlFor:"input"},e.name),s.a.createElement("input",{onChange:e.callback,type:"file",id:"input"}))}},51:function(e,t,n){"use strict";var r=n(0),a=n.n(r),s=n(89),c=n.n(s);t.a=function(){return a.a.createElement("div",null,a.a.createElement("img",{src:c.a,alt:""}))}},61:function(e,t,n){e.exports={header:"Header_header__2l48h",loginBlock:"Header_loginBlock__iN0xv"}},62:function(e,t,n){e.exports={img:"NotFound_img__FbMbo",container:"NotFound_container__1C2hQ"}},70:function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return S})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return _}));var r=n(26),a=n(3),s=n.n(a),c=n(7),u=n(16),o=n(2),i=n(4),l=n(29),f=function(e){return i.c.get("profile/".concat(e)).then((function(e){return e.data}))},d=function(e){return i.c.get("profile/status/".concat(e)).then((function(e){return e.data}))},p=function(e){return i.c.put("/profile/status",{status:e}).then((function(e){return e.data}))},g=function(e){var t=new FormData;return t.append("image",e),i.c.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},m=function(e){return i.c.put("/profile",e).then((function(e){return e.data}))},E={postsData:[{id:0,message:"Hi, how are you",likesCount:5,img:"https://yt3.ggpht.com/a/AGF-l78XZgyutXUlON-U4sTy-EwaZoBJXrqGvQ2kxg=s900-c-k-c0xffffffff-no-rj-mo"},{id:1,message:"It's my first post",likesCount:20,img:"https://yt3.ggpht.com/a/AGF-l78XZgyutXUlON-U4sTy-EwaZoBJXrqGvQ2kxg=s900-c-k-c0xffffffff-no-rj-mo"}],profile:null,status:"",newPostText:""},h=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e);case 2:r=t.sent,n(_.setUserProfile(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:r=t.sent,n(_.setStatus(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:t.sent.resultCode===i.b.Success&&n(_.setStatus(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e);case 2:(r=t.sent).resultCode===i.b.Success&&n(_.sevePhotoSuccess(r.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n,a){var c,u,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a().auth.userId,t.next=3,m(e);case 3:if((u=t.sent).resultCode!==i.b.Success){t.next=12;break}if(null===c){t.next=9;break}n(h(c)),t.next=10;break;case 9:throw new Error("userId can't be null");case 10:t.next=15;break;case 12:return"Some error"!==(o=u.messages.length>0?u.messages[0]:"Some error")?(o=(o=(o=o.split("->"))[1].toLocaleLowerCase()).slice(0,o.length-1),n(Object(l.a)("profile-data",{contacts:Object(r.a)({},o,u.messages[0])}))):n(Object(l.a)("profile-data",{_error:o})),t.abrupt("return",Promise.reject(u.messages[0]));case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},_=(t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var n={id:e.postsData.length,message:t.newPostText,likesCount:0,img:"https://yt3.ggpht.com/a/AGF-l78XZgyutXUlON-U4sTy-EwaZoBJXrqGvQ2kxg=s900-c-k-c0xffffffff-no-rj-mo"};return Object(o.a)(Object(o.a)({},e),{},{postsData:[].concat(Object(u.a)(e.postsData),[n]),newPostText:""});case"SET_USER_PROFILE":return Object(o.a)(Object(o.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(o.a)(Object(o.a)({},e),{},{status:t.status});case"DELETE_POST":return Object(o.a)(Object(o.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id.toString()!==t.postId}))});case"SAVE_PHOTO_SUCCESS":return Object(o.a)(Object(o.a)({},e),{},{profile:Object(o.a)(Object(o.a)({},e.profile),{},{photos:t.photos})});case"UPDATE_POST":return Object(o.a)(Object(o.a)({},e),{},{postsData:e.postsData.map((function(e){return e.id.toString()===t.postId?Object(o.a)(Object(o.a)({},e),{},{message:t.message}):e}))});default:return e}},{addPost:function(e){return{type:"ADD_POST",newPostText:e}},deletePost:function(e){return{type:"DELETE_POST",postId:e}},setUserProfile:function(e){return{type:"SET_USER_PROFILE",profile:e}},setStatus:function(e){return{type:"SET_STATUS",status:e}},sevePhotoSuccess:function(e){return{type:"SAVE_PHOTO_SUCCESS",photos:e}},updatePost:function(e,t){return{type:"UPDATE_POST",postId:e,message:t}}})},85:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return m}));var r=n(3),a=n.n(r),s=n(7),c=n(16),u=n(2),o=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(u.a)(Object(u.a)({},e),r):e}))},i=n(4),l={getUsers:function(e,t){return i.c.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return i.c.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return i.c.delete("follow/".concat(e)).then((function(e){return e.data}))}},f={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},d=(t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/USERS/FOLLOW":return Object(u.a)(Object(u.a)({},e),{},{users:o(e.users,t.userId,"id",{followed:!0})});case"SN/USERS/UNFOLLOW":return Object(u.a)(Object(u.a)({},e),{},{users:o(e.users,t.userId,"id",{followed:!1})});case"SN/USERS/SET_USERS":return Object(u.a)(Object(u.a)({},e),{},{users:Object(c.a)(t.users)});case"SN/USERS/SET_TOTAL_USERS_COUNT":return Object(u.a)(Object(u.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"SN/USERS/SET_CURRENT_PAGE":return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.currentPage});case"SN/USERS/TOGGLE_IS_FETCHING":return Object(u.a)(Object(u.a)({},e),{},{isFetching:t.isFetching});case"SN/USERS/TOGGLE_FOLLOWING_IN_PROGRESS":return Object(u.a)(Object(u.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(c.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r,s){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(E.toggleIsFetching(!0)),n.next=3,l.getUsers(e,t);case 3:c=n.sent,r(E.toggleIsFetching(!1)),r(E.setUsers(c.items)),r(E.setCurrentPage(e)),r(E.setTotalUsersCount(c.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}),p=function(){var e=Object(s.a)(a.a.mark((function e(t,n,r,s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E.toggleFollowingInProgress(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(s(n)),t(E.toggleFollowingInProgress(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),g=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(n,e,l.follow.bind(l),E.followSuccess);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(n,e,l.unfollow.bind(l),E.unfollowSuccess);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E={followSuccess:function(e){return{type:"SN/USERS/FOLLOW",userId:e}},unfollowSuccess:function(e){return{type:"SN/USERS/UNFOLLOW",userId:e}},setUsers:function(e){return{type:"SN/USERS/SET_USERS",users:e}},setCurrentPage:function(e){return{type:"SN/USERS/SET_CURRENT_PAGE",currentPage:e}},setTotalUsersCount:function(e){return{type:"SN/USERS/SET_TOTAL_USERS_COUNT",totalUsersCount:e}},toggleIsFetching:function(e){return{type:"SN/USERS/TOGGLE_IS_FETCHING",isFetching:e}},toggleFollowingInProgress:function(e,t){return{type:"SN/USERS/TOGGLE_FOLLOWING_IN_PROGRESS",isFetching:e,userId:t}}}},89:function(e,t,n){e.exports=n.p+"static/media/preloader.ade7b44c.svg"},92:function(e,t,n){e.exports=n.p+"static/media/logoSite.32fdec1a.png"},93:function(e,t,n){e.exports=n.p+"static/media/404NotFound.1b28b096.jpg"},94:function(e,t,n){e.exports=n.p+"static/media/oopsPhoto.23d24fde.jpg"},95:function(e,t,n){e.exports={container:"ErrorBoundary_container__2g3n_"}}},[[144,2,3]]]);
//# sourceMappingURL=main.9f022721.chunk.js.map